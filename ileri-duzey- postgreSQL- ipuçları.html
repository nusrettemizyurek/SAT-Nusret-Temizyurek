<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>İleri Düzey PostgreSQL İpuçları: Performans, Ölçek ve Mimari Optimizasyon - TeknoGündem</title>
    <link rel="shortcut icon" href="site logo.jpg" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        /* TEMEL RENKLER VE GLOBAL STİLLER */
        :root {
            --color-primary: #00bcd4; /* Mavi-Turkuaz */
            --color-secondary: #ff9800; /* Turuncu */
            --color-background: #121212;
            --color-text-light: #ddd;
            --color-detail: #4caf50; /* Detaylar için Yeşil */
            /* Yeni makale için özel renkler */
            --color-postgres-main: #336699; /* PostgreSQL Mavi */
            --color-optimization: #FFD700; /* Altın Sarısı */
        }

        body {
            background: radial-gradient(circle at top right, #0a0f1f, #1b2a4b);;
            background-color: var(--color-background);
            color: var(--color-text-light);
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }

        /* HEADER & NAV STİLLERİ */
        header {
            background-color: #1e1e1e;
            color: white;
            padding: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
        }
        .logo {
            font-size: 1.8rem;
            font-weight: bold;
           color:#007bff;
        }
        nav ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            gap: 10px;
        }
        nav ul li a {
            color: var(--color-text-light);
            text-decoration: none;
            padding: 10px 15px;
            display: block;
            transition: color 0.3s;
        }
        nav ul li a:hover, nav ul li a.active {
            color: var(--color-primary);
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
        }
        
        /* DROPDOWN MENÜ STİLLERİ  */
        .dropdown {
    position: relative;
    display: inline-block;
}

.dropdown-content {
    display: none; 
    position: absolute;
    background-color: #0d1a2f !important; /* Haberler 2 koyu lacivert */
    min-width: 170px;
    box-shadow: 0px 12px 24px rgba(0, 0, 0, 0.7);
    z-index: 1000;
    border-radius: 0 0 10px 10px;
    top: 100%;
    left: 0;
    border-top: 3px solid #00bcd4 !important; /* Turkuaz üst çizgi */
    padding: 0 !important;
}

.dropdown-content a {
    color: #f0f0f0 !important;
    padding: 12px 20px !important;
    text-decoration: none !important;
    display: block !important; /* Yazıların alt alta gelmesini sağlar */
    text-align: left !important;
    font-size: 14px;
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    border: none !important;
}

/* Üzerine gelince sağa kayma efekti */
.dropdown-content a:hover {
    background-color: rgba(0, 188, 212, 0.2) !important;
    color: #00bcd4 !important;
    padding-left: 28px !important; /* Sağa kayma hareketi */
}

/* Açılış animasyonu */
.dropdown:hover .dropdown-content {
    display: block !important;
    animation: fadeInMenu 0.3s ease;
}

@keyframes fadeInMenu {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
  
        
        /* İkonlar için metin ayrımı */
        h1 i, h2 i, h3 i, .detail-list i, blockquote i {
            margin-right: 10px;
        }
        
        /* ANA İÇERİK STİLLERİ */
        .main-body-container {
            max-width: 1000px;
            margin: 40px auto; 
            padding: 25px; 
            background-color: rgba(255, 255, 255, 0.05); 
            border-radius: 10px;
        }
        .tag {
            position: static; padding: 5px 15px; background-color: var(--color-secondary); 
            color: var(--color-background); border-radius: 4px; font-size: 0.9rem;
            font-weight: bold;
        }
        .review-meta {
            margin-top: 10px; display: flex; justify-content: center; gap: 20px; color: #aaa; font-size: 0.9rem;
        }

        /* TABLO STİLLERİ */
        .comparison-table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        .comparison-table th, .comparison-table td {
            padding: 15px;
            border: 1px solid #333;
            text-align: left;
            font-size: 0.95em;
        }
        .comparison-table th {
            font-weight: bold;
            text-transform: uppercase;
        }
        /* Yeni tablo için renkler */
        .pg-config-cell { background-color: rgba(51, 102, 153, 0.1); color: white; } 
        .pg-optimization-cell { background-color: rgba(255, 215, 0, 0.1); color: var(--color-optimization); } 
        
        /* DETAY BÖLÜM STİLLERİ */
        .technical-section h3 {
            color: var(--color-detail);
            margin-top: 35px;
            border-bottom: 1px dashed #333;
            padding-bottom: 5px;
        }
        .detail-list {
            list-style: none;
            padding-left: 20px;
            margin-top: 15px;
        }
        .detail-list li {
            border-left: 3px solid var(--color-secondary);
            padding-left: 10px;
            margin-bottom: 10px;
            line-height: 1.6;
        }
        
        /* KOD BLOKLARI */
        pre {
            background-color: #2b2b2b;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            font-family: 'Consolas', 'Courier New', monospace;
            font-size: 0.9em;
            border: 1px solid #3a3a3a;
        }

        /* FOOTER STİLİ */
        footer {
            text-align: center;
            padding: 2px;
            border-top: 1px solid #333;
            color:white;
            background-color: #0d1a2f;
        }
        @media (max-width: 768px) {
    
    /* Header ve Navigasyon */
    header {
        flex-direction: column; /* Dikey sıralama */
        text-align: center;
        padding: 15px; 
    }

    nav ul {
        flex-direction: column; /* Menü öğelerini alt alta sırala */
        width: 100%;
        margin-top: 10px;
    }

    nav ul li {
        width: 100%;
        margin-bottom: 5px;
        position: static; /* Dropdown'ın konumlanmasını ayarla */
    }
    
    nav ul li a {
        padding: 10px 0;
        text-align: center;
    }

    /* Dropdown Menü Ayarlaması */
    .dropdown {
        width: 100%; /* Mobil görünümde tam genişlik */
    }
    
    .dropdown-content {
        position: static; /* Statik yaparak akışa dahil et */
        transform: none; /* Merkezleme iptali */
        min-width: 100%;
        border-radius: 0;
        box-shadow: none;
    }
    
    /* Ana İçerik */
    .main-body-container {
        margin: 20px 10px;
        padding: 15px; /* İç dolguyu azalt */
    }

    h1 {
        font-size: 2rem !important; /* Başlık boyutunu küçült */
        line-height: 1.2;
    }

    .review-meta {
        flex-direction: column; /* Meta bilgileri alt alta sırala */
        gap: 5px;
        text-align: center;
        margin-top: 20px;
    }
    
    /* Paragraf ve Liste Okunurluğu */
    p {
        font-size: 1em !important; /* Varsayılan font boyutu */
        line-height: 1.5 !important;
    }
    
    .detail-list {
        padding-left: 10px; /* Kenar boşluğunu azalt */
    }
}

/* Ekran boyutu 600px ve altı için daha dar ekran ayarlamaları (Telefonlar) */
@media (max-width: 600px) {
    
    /* Başlık boyutunu daha da küçült */
    h1 {
        font-size: 1.5rem !important; 
    }
    
    /* Kod Blokları Uyumluluğu */
    pre {
        font-size: 0.8em; /* Kod bloklarında font boyutunu küçült */
        padding: 10px; /* İç dolguyu azalt */
        /* overflow-x: auto; zaten varsayılan stilde mevcut, bu da yatay kaydırma sağlar */
    }
}
    </style>
</head>
<body class="yazilim-sayfa">
    <header>
        <div class="logo">TeknoGündem</div>
        <nav>
            <ul>
                <li><a href="index.html">Ana Sayfa</a></li>
                <li class="dropdown">
                    <a href="donanım.html" class="active">Donanım </a>
                    <div class="dropdown-content"> 
                        <a href="haberler.html" class="dropdown-item">Haberler</a> 
                        <a href="incelemeler.html" class="dropdown-item">İncelemeler</a>
                    </div>
                </li>
                <li><a href="yazılım.html">Yazılım </a></li>
                <li><a href="hakkimizda.html">Hakkımızda</a></li>
            </ul>
        </nav>
    </header>

    <main class="container main-body-container">
        
        <section class="detail-header">
            <h1 style="color: var(--color-primary); font-size: 3rem;"><i class="fas fa-magic"></i> İleri Düzey PostgreSQL İpuçları: Performans, Ölçek ve Mimari Optimizasyon</h1>
            <div class="review-meta">
                <span>Yazar: Ege YILMAZ</span>
                <span>Tarih: 15 Mayıs 2026</span>
                <span class="tag">Veritabanı/Performans</span>
            </div>
        </section>

        <div class="article-content-wrapper" style="max-width: 900px; margin: 40px auto; padding: 20px;">
            
            <p style="margin-bottom: 25px; line-height: 1.8; font-size: 1.1rem; color: #ccc;">
                PostgreSQL, güvenilirliği ve zengin özellik setiyle ünlüdür. Ancak, milyonlarca satırlık tablolarda veya yüksek eşzamanlılık (concurrency) gerektiren sistemlerde, varsayılan ayarlar yetersiz kalır. Gerçekten ileri düzey performans ve ölçeklenebilirlik elde etmek için, DBA'lar ve kıdemli geliştiriciler PostgreSQL'in derinliklerine inmelidir. İşte basit `SELECT` işlemlerinin ötesine geçen, en kritik ileri düzey optimizasyon teknikleri.
            </p>

            <h2 style="color: var(--color-postgres-main); margin-top: 40px; margin-bottom: 15px;"><i class="fas fa-cubes"></i> Faz 1: Büyük Veri Yönetimi ve Ölçeklenebilirlik</h2>
            
            <div class="technical-section">
                <h3>Adım 1.1: Yerel Veri Parçalama (Native Partitioning)</h3>
                <p style="margin-bottom: 15px; line-height: 1.7; color: #ddd;">
                    Terabaytlarca veriye sahip tablolarda sorgu performansını artırmak ve bakım maliyetlerini düşürmek için tabloyu daha küçük parçalara (partitions) ayırmak esastır. PostgreSQL 10 sonrası bu özellik yerel olarak desteklenir.
                </p>
                <ul class="detail-list">
                    <li><i class="fas fa-calendar-alt" style="color: var(--color-secondary);"></i> Zaman Serisi Verisi: Genellikle `RANGE` parçalama (örneğin aylık veya yıllık bazda) kullanılır. Bu, eski veriyi arşivlemeyi kolaylaştırır ve sorgu optimizasyonunu hızlandırır (Partition Pruning).</li>
                    <li><i class="fas fa-th-list" style="color: var(--color-secondary);"></i> Sorgu Pruning: PostgreSQL sorgu planlayıcısı (Planner), yalnızca sorgunun kapsadığı parçaları (örneğin son 3 aylık veriyi) tarayarak performansı dramatik bir şekilde artırır.</li>
                </ul>
                <p style="color: var(--color-postgres-main); font-weight: bold; margin-bottom: 10px;">RANGE Parçalama Örneği:</p>
                <pre><code>CREATE TABLE siparisler (
    siparis_id BIGINT,
    siparis_tarihi DATE
) PARTITION BY RANGE (siparis_tarihi);

CREATE TABLE siparisler_2024 PARTITION OF siparisler
    FOR VALUES FROM ('2024-01-01') TO ('2025-01-01');</code></pre>
            </div>
            
            <div class="technical-section">
                <h3>Adım 1.2: Dış Veri Sargısı (Foreign Data Wrappers - FDW)</h3>
                <p style="margin-bottom: 25px; line-height: 1.7; color: #ddd;">
                    Farklı veritabanlarındaki (MySQL, Oracle, hatta MongoDB) veya başka bir PostgreSQL örneğindeki verilere yerel bir tabloymuş gibi erişim sağlar. Veri bütünleştirme (Data Integration) ve dağıtık sorgular için mükemmeldir.
                </p>
                <ul class="detail-list">
                    <li><i class="fas fa-plug" style="color: var(--color-detail);"></i> Yabancı Tablolar: FDW, farklı sistemler arasında ETL (Extract, Transform, Load) ihtiyacını azaltır.</li>
                </ul>
            </div>

            <h2 style="color: var(--color-optimization); margin-top: 40px; margin-bottom: 15px;"><i class="fas fa-rocket"></i> Faz 2: İndeksleme ve Sorgu Optimizasyonu</h2>
            
            <div class="technical-section">
                <h3>Adım 2.1: Gelişmiş İndeks Türleri</h3>
                <p style="margin-bottom: 15px; line-height: 1.7; color: #ddd;">
                    Standart B-Tree indeksi, çoğu iş için ideal olsa da, PostgreSQL karmaşık veri tipleri için özel indeksler sunar.
                </p>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th style="background-color: var(--color-detail);">İndeks Tipi</th>
                            <th style="background-color: var(--color-optimization);">Kullanım Amacı</th>
                            <th style="background-color: var(--color-detail);">Kullanım Senaryosu</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="pg-config-cell">GIN (Generalized Inverted Index)</td>
                            <td class="pg-config-cell">Dizi (Array) ve JSONB sütunlarında tam metin araması.</td>
                            <td class="pg-config-cell">E-ticaret siteleri, log analizi.</td>
                        </tr>
                        <tr>
                            <td class="pg-config-cell">BRIN (Block Range Index)</td>
                            <td class="pg-config-cell">Sıralı (sekansiyel) olarak eklenen büyük tablolarda alan bazlı sorgular.</td>
                            <td class="pg-config-cell">Zaman serisi veritabanları (Çok küçük indeks boyutu).</td>
                        </tr>
                        <tr>
                            <td class="pg-config-cell">Partial Index</td>
                            <td class="pg-config-cell">Tablonun yalnızca bir alt kümesi için indeks oluşturur.</td>
                            <td class="pg-config-cell">Aktif kullanıcılar (`WHERE is_active = true`) veya işlenmemiş siparişler. İndeksi küçültür.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="technical-section">
                <h3>Adım 2.2: Sorgu Optimizasyonunun Kutsal Kasesi: `EXPLAIN ANALYZE`</h3>
                <p style="margin-bottom: 25px; line-height: 1.7; color: #ddd;">
                    Her kıdemli geliştiricinin ezbere bilmesi gereken komut, sorgu planlayıcısının (Planner) bir sorguyu nasıl yürüttüğünü ve performans darboğazlarını (Sequential Scan, yüksek maliyetli Join) belirlemeye yarar.
                </p>
                <blockquote style="border-left: 5px solid var(--color-secondary); background-color: rgba(255, 152, 0, 0.05); padding: 15px; margin-top: 20px;">
                    <i class="fas fa-microscope" style="color: var(--color-secondary);"></i> Önemli İpucu:Sorgu analizinde"Loops" satırına dikkat edin. İç döngüde yüksek maliyetli bir işlem binlerce kez tekrarlanıyorsa, bu ciddi bir optimizasyon gereksinimi işaretidir (Genellikle Missing Index veya Planner'ın yanlış tahmini).
                </blockquote>
            </div>

            <h2 style="color: var(--color-detail); margin-top: 40px; margin-bottom: 15px;"><i class="fas fa-server"></i> Faz 3: Yapılandırma ve Operasyonel Mükemmellik</h2>
            
            <div class="technical-section">
                <h3>Adım 3.1: Kritik Yapılandırma Parametreleri (`postgresql.conf`)</h3>
                <p style="margin-bottom: 15px; line-height: 1.7; color: #ddd;">
                    PostgreSQL'in belleği ve I/O kullanımı, aşağıdaki üç anahtar parametreyle doğrudan kontrol edilir:
                </p>
                <ul class="detail-list">
                    <li><i class="fas fa-hdd" style="color: var(--color-postgres-main);"></i>Shared_Buffers:Sistem belleğinin (RAM) büyük bir kısmı buraya ayrılmalıdır (Genellikle toplam RAM'in %25'i). Tüm veritabanı süreçleri tarafından paylaşılan önbellektir.</li>
                    <li><i class="fas fa-layer-group" style="color: var(--color-postgres-main);"></i>Work_Mem: Karmaşık sorgular (JOIN, SORT, HASH) tarafından geçici bellek olarak kullanılır. Yüksek değerli eşzamanlı sorgularda work_mem'i yükseltmek, diskte gerçekleşecek yavaş işlemleri RAM'e taşır.</li>
                    <li><i class="fas fa-hand-holding-usd" style="color: var(--color-postgres-main);"></i>Effective_Cache_Size:Sorgu planlayıcısına (Planner) sunucunun toplam ne kadar belleğe sahip olduğu hakkında bilgi verir. Bu, planlayıcının ne zaman disk erişimi yerine indeks kullanması gerektiğini anlamasına yardımcı olur (Genellikle toplam RAM'in %50-%75'i).</li>
                </ul>
            </div>

            <div class="technical-section">
                <h3>Adım 3.2: Otomatik Temizlik (Autovacuum) ve Bloat Yönetimi</h3>
                <p style="margin-bottom: 25px; line-height: 1.7; color: #ddd;">
                    PostgreSQL'in MVCC (Multi-Version Concurrency Control) mimarisi gereği, her UPDATE ve DELETE işlemi ölü satır (dead tuple) bırakır. Autovacuum bu ölü satırları temizlemezse, performans düşüşü (bloat) kaçınılmazdır.
                </p>
                <ul class="detail-list">
                    <li><i class="fas fa-recycle" style="color: var(--color-optimization);"></i> Ayarlama: autovacuum_vacuum_scale_factor ve autovacuum_analyze_scale_factor parametrelerini, özellikle yüksek değişim oranına sahip tablolarda, varsayılan değerlerden düşürerek temizliğin daha sık yapılmasını sağlayın.</li>
                    <li><i class="fas fa-chart-area" style="color: var(--color-optimization);"></i>İzleme: pg_stat_user_tables ve pg_stat_activity görünümlerini kullanarak uzun süren sorguları ve Autovacuum görevlerini düzenli olarak izleyin.</li>
                </ul>
            </div>

            <h2 style="color: var(--color-primary); margin-top: 40px; margin-bottom: 15px;"><i class="fas fa-graduation-cap"></i> Özet Rehberlik İlkesi</h2>
            
            <p style="margin-bottom: 25px; line-height: 1.8; color: #ddd; font-weight: bold;">
                İleri düzey PostgreSQL yönetimi, yalnızca SQL yazmaktan ibaret değildir; bir mimari sanatıdır. Kritik performans artışları, büyük tabloları mantıklı parçalara (Partitioning) ayırmaktan, standart B-Tree'nin ötesindeki GIN veya BRIN gibi özel indeks türlerini kullanmaktan ve özellikle shared_buffers, work_mem ve effective_cache_size gibi temel yapılandırma parametrelerini sunucunuzun donanımına göre hassasça ayarlamaktan geçer. Performans her zaman EXPLAIN ANALYZE ile kanıtlanmalıdır.
            </p>

        </div>

    </main>

    <footer>
        <p>&copy; 2025 TeknoGündem. Tüm Hakları Saklıdır.</p>
    </footer>

</body> 
</html>